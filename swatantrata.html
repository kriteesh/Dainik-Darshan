<html>
	<head>
		<title>अपावृण</title>
		<meta name="google" content="notranslate">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="manifest" href="manifest.json">
		<meta name="viewport" content="width=device-width">
		<meta name="mobile-web-app-capable" content="yes">
		<link rel="icon" sizes="192x192" href="assets/apavrina.png">
		<link href="https://fonts.googleapis.com/css?family=Khand" rel="stylesheet">
		<link rel="stylesheet" href="css/animate.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="js/akshara.js"></script>
		<script src="js/sweetAlert.min.js"></script>
		<script src="ja/gujarati.json"></script>
		
		<style>
			html,body{
				margin:0 ;
				width : 100%;
				height : 100%;
				overflow : hidden;
				}
			.container{
				display: grid;
				grid-template-rows: 40vh 40vh 20vh;
				grid-template-columns: 20vw 60vw 20vw;
				grid-template-areas:
									'jhoomar tray ghoomar'
									 'keypad keypad keypad'
									'footer footer footer';
				width : 100%;
				height : 100%;
				align-items: center;
				justify-items: center;
				user-select: none;
			}
			.tray{
				grid-area: tray;
				display: flex;
				width  :100%;
				height : 20%;
				flex-direction: row;
				justify-content: space-around;
			}
			.letter
			{
				border-bottom : 2px solid black;
				font-size : 10vh;
				line-height: 0vh;
				min-width : 10vw;
				text-align: center;
				
			}
			.keypad{
				grid-area: keypad;
				display: flex;
				width  :80%;
				height : 100%;
				flex-direction: row;
				justify-content: center;
				flex-wrap: wrap;
				cursor : pointer;
			}
			.key{
				font-size: 5vh;
				border-radius: 50%;
				background: grey;
				margin: 2vw;
				width: 6vh;
				text-align: center;
				
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="tray">
			</div>
			<div class="keypad">
			</div>
		</div>
	</body>
	<script>
		let words = text.arm.split(' ').filter(x=>(x!='')||(x!=' '));
		words = words.map((x,i)=>{if(words.indexOf(x)==i) return x; else null;}).filter(x=>x!=null);
		words = words.filter(x=>akshara('sanskrit')(x).length>3);
		let word = words[Math.floor(Math.random()*words.length)];
		let letters = akshara('sanskrit')(word);
		let tray = document.getElementsByClassName('tray')[0];
		let counter=0;
		letters.map((x,i)=>{ x = document.createElement('div'); x.className="letter"; x.innerText = '*'; tray.appendChild(x);});
		
		let keypad = document.getElementsByClassName('keypad')[0];
		
		let keys = new Array(25).fill(1).map((x,i)=> {
			x = document.createElement('div'); 
			x.className="key"; 
			x.innerText = "qwertyuiopasdfghjklzxcvbn".split('')[i]; 
			keypad.appendChild(x);
			x.addEventListener('click',function(){
				
				if(letters.includes(x.innerText))
				{
					letters.map((y,i)=>{if(y==x.innerText){document.getElementsByClassName('letter')[i].innerText=y}});
					let uncover = letters.filter((x,i)=>document.getElementsByClassName('letter')[i].innerText!='*').length;
					console.log(uncover);
					if(uncover==letters.length){console.log('done')};
					x.style.background = "green";
					x.style.pointerEvents = 'none';
				}
			else{
					counter++;
					x.style.background = "red";
					x.style.pointerEvents = 'none';
					console.log(counter);
					if(counter>5){console.log('undone')}
				}
				
			},false);
			
		})
		
	
		
	</script>
	
</html>